extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main 
    if(role.permission.includes("roles_permissions"))
        +alert-success(5000)
        h1(class="mb-4") Permissions

        if(records)
            div(data-records = records)

            div(class="text-end")
                button(
                    type="submit"
                    class="btn btn-primary mb-3"
                    button-submit 
                ) Update 
            
            table(class = "table table-hover table-sm" table-permissions)
                thead 
                    tr 
                        th Permission 
                        each item in records 
                            th(class="text-center") #{item.title}
                tbody
                    tr(data-name="id" class="d-none")
                        td
                        each item in records 
                            td(class="text-center")
                                input(type="text" value = item.id) 
                    //- Category
                    tr
                        td(colspan="4")
                            b Category 
                    tr(data-name="product-category_view")
                        td View 
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="product-category_create")
                        td Create New 
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="product-category_edit")
                        td Edit
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="product-category_delete")
                        td Delete
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    //-Products List
                    tr
                        td(colspan="4")
                            b Products List
                    tr(data-name="product_view")
                        td View 
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="product_create")
                        td Create New 
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="product_edit")
                        td Edit
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="product_delete")
                        td Delete
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    //-Roles
                    tr
                        td(colspan="4")
                            b Roles
                    tr(data-name="roles_view")
                        td View 
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="roles_create")
                        td Create New 
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="roles_edit")
                        td Edit
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="roles_delete")
                        td Delete
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="roles_permissions")
                        td Permission
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    //-Accounts
                    tr
                        td(colspan="4")
                            b Accounts
                    tr(data-name="account_view")
                        td View 
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="account_create")
                        td Create New 
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="account_edit")
                        td Edit
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")
                    tr(data-name="account_delete")
                        td Delete
                        each item in records 
                            td(class="text-center")
                                input(type="checkbox")

        form(
            id = "form-change-permissions"
            method = "POST"
            action=`${prefixAdmin}/roles/permissions?_method=PATCH`
            class="d-none"
        )
            div(class="form-group")
                input(
                    type="text"
                    class="form-control"
                    name="permissions"
                )
        
        script(src="/admin/js/roles.js")